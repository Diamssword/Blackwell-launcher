<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Launcher de la BlackWell University</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="css/compiled.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

</head>

<body id="body">
  <!-- partial:index.partial.html -->
  <header class="header">
    <nav class="navigation">
      <h1 class="title">Méthode de connexion :</h1>
      <ul class="nav_list" id="nav_list">
        <! -- <li class="nav_items ">
          <! -- <input type="button" value="MOJANG" class="" onclick="window.send('open','mojang')" />
          <! -- </li>
            <li class="nav_items"><input type="button" value="MICROSOFT" class=""
                onclick="window.send('open','microsoft')" /></li>
            <li class="nav_items active"> <input type="button" value="Rejoindre l'université !" class=""
                onclick="window.send('launch')" />
            </li>
            <li class="nav_items"> <input id="close-btn" type="button" value="QUITTER" class="" />
            </li>
      </ul>
    </nav>
  </header>
  <main class="main">
    <img src="https://cdn.discordapp.com/attachments/822476964396924948/899332158399873075/Logo_Blackwell.png"
      alt="Logo Bethesda" class="bethesda_logo">
    <img class="background_image" id="bg_img"
      src="https://cdn.discordapp.com/attachments/822476964396924948/899333000628666418/LOGO_BW2.png" alt=""></img>
    <div class="front-text" id="front-text">
      <div id="ProfilePicker" class="profile_picker">
      </div>
      </div>
      <div>
        <p id="progressTotalText">Total (1/1)</p>
      <progress id="progressTotal" value="100" max="100">
      </div>
      <p id="progressTitle">Titre</p>
        <p id="progressText">100%</p>
        <progress id="progress" value="100" max="100">
        </div>
  </main>
  <footer class="footer">

    <ul class="social_list" id="social_list">
      <li class="social_items social_active">

        <svg onclick="window.send('open','settings')" class="social_svg" width="40" height="40" version="1.1"
          id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          viewBox="0 0 489.802 489.802" style="enable-background:new 0 0 489.802 489.802;" xml:space="preserve">
          <g>
            <path
              d="M20.701,281.901l32.1,0.2c4.8,24.7,14.3,48.7,28.7,70.5l-22.8,22.6c-8.2,8.1-8.2,21.2-0.2,29.4l24.6,24.9   c8.1,8.2,21.2,8.2,29.4,0.2l22.8-22.6c21.6,14.6,45.5,24.5,70.2,29.5l-0.2,32.1c-0.1,11.5,9.2,20.8,20.7,20.9l35,0.2   c11.5,0.1,20.8-9.2,20.9-20.7l0.2-32.1c24.7-4.8,48.7-14.3,70.5-28.7l22.6,22.8c8.1,8.2,21.2,8.2,29.4,0.2l24.9-24.6   c8.2-8.1,8.2-21.2,0.2-29.4l-22.6-22.8c14.6-21.6,24.5-45.5,29.5-70.2l32.1,0.2c11.5,0.1,20.8-9.2,20.9-20.7l0.2-35   c0.1-11.5-9.2-20.8-20.7-20.9l-32.1-0.2c-4.8-24.7-14.3-48.7-28.7-70.5l22.8-22.6c8.2-8.1,8.2-21.2,0.2-29.4l-24.6-24.9   c-8.1-8.2-21.2-8.2-29.4-0.2l-22.8,22.6c-21.6-14.6-45.5-24.5-70.2-29.5l0.2-32.1c0.1-11.5-9.2-20.8-20.7-20.9l-35-0.2   c-11.5-0.1-20.8,9.2-20.9,20.7l-0.3,32.1c-24.8,4.8-48.8,14.3-70.5,28.7l-22.6-22.8c-8.1-8.2-21.2-8.2-29.4-0.2l-24.8,24.6   c-8.2,8.1-8.2,21.2-0.2,29.4l22.6,22.8c-14.6,21.6-24.5,45.5-29.5,70.2l-32.1-0.2c-11.5-0.1-20.8,9.2-20.9,20.7l-0.2,35   C-0.099,272.401,9.201,281.801,20.701,281.901z M179.301,178.601c36.6-36.2,95.5-35.9,131.7,0.7s35.9,95.5-0.7,131.7   s-95.5,35.9-131.7-0.7S142.701,214.801,179.301,178.601z" />
          </g>
        </svg>
      </li>
      <li class="social_items social_active"><svg width="40" height="40" class="social_svg" style=" fill:#161616;"
          xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 20" fill-rule="evenodd" clip-rule="evenodd">
          <path
            d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
        </svg></li>
      <li class="social_items"><svg xmlns="http://www.w3.org/2000/svg" class="social_svg" x="0px" y="0px" width="45"
          height="45" viewBox="0 0 30 30" style=" fill:#161616;">
          <path
            d="M24,4H6C4.895,4,4,4.895,4,6v18c0,1.105,0.895,2,2,2h18c1.105,0,2-0.895,2-2V6C26,4.895,25.105,4,24,4z M20.68,11.989 c0.006,0.13,0.009,0.261,0.009,0.392c0,4.003-3.047,8.619-8.619,8.619c-1.711,0-3.303-0.501-4.644-1.361 c0.237,0.028,0.479,0.042,0.723,0.042c1.419,0,2.725-0.484,3.762-1.297c-1.326-0.025-2.444-0.901-2.83-2.104 c0.185,0.035,0.375,0.054,0.57,0.054c0.277,0,0.544-0.037,0.799-0.106c-1.386-0.278-2.43-1.502-2.43-2.97c0-0.013,0-0.025,0-0.038 c0.409,0.227,0.875,0.363,1.372,0.379c-0.813-0.543-1.347-1.47-1.347-2.521c0-0.556,0.15-1.076,0.41-1.523 c1.494,1.833,3.726,3.039,6.244,3.165c-0.051-0.221-0.078-0.453-0.078-0.69c0-1.673,1.357-3.029,3.029-3.029 c0.871,0,1.659,0.368,2.211,0.957c0.69-0.136,1.339-0.388,1.924-0.735c-0.226,0.707-0.706,1.301-1.332,1.676 c0.613-0.073,1.197-0.236,1.74-0.477C21.786,11.028,21.272,11.561,20.68,11.989z">
          </path>
        </svg></li>
      <li class="social_items">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" class="social_svg" viewBox="0 0 24 24"
          style=" fill:#161616;">
          <path
            d="M4.652 0h1.44l.988 3.702.916-3.702h1.454l-1.665 5.505v3.757h-1.431v-3.757l-1.702-5.505zm6.594 2.373c-1.119 0-1.861.74-1.861 1.835v3.349c0 1.204.629 1.831 1.861 1.831 1.022 0 1.826-.683 1.826-1.831v-3.349c0-1.069-.797-1.835-1.826-1.835zm.531 5.127c0 .372-.19.646-.532.646-.351 0-.554-.287-.554-.646v-3.179c0-.374.172-.651.529-.651.39 0 .557.269.557.651v3.179zm4.729-5.07v5.186c-.155.194-.5.512-.747.512-.271 0-.338-.186-.338-.46v-5.238h-1.27v5.71c0 .675.206 1.22.887 1.22.384 0 .918-.2 1.468-.853v.754h1.27v-6.831h-1.27zm2.203 13.858c-.448 0-.541.315-.541.763v.659h1.069v-.66c.001-.44-.092-.762-.528-.762zm-4.703.04c-.084.043-.167.109-.25.198v4.055c.099.106.194.182.287.229.197.1.485.107.619-.067.07-.092.105-.241.105-.449v-3.359c0-.22-.043-.386-.129-.5-.147-.193-.42-.214-.632-.107zm4.827-5.195c-2.604-.177-11.066-.177-13.666 0-2.814.192-3.146 1.892-3.167 6.367.021 4.467.35 6.175 3.167 6.367 2.6.177 11.062.177 13.666 0 2.814-.192 3.146-1.893 3.167-6.367-.021-4.467-.35-6.175-3.167-6.367zm-12.324 10.686h-1.363v-7.54h-1.41v-1.28h4.182v1.28h-1.41v7.54zm4.846 0h-1.21v-.718c-.223.265-.455.467-.696.605-.652.374-1.547.365-1.547-.955v-5.438h1.209v4.988c0 .262.063.438.322.438.236 0 .564-.303.711-.487v-4.939h1.21v6.506zm4.657-1.348c0 .805-.301 1.431-1.106 1.431-.443 0-.812-.162-1.149-.583v.5h-1.221v-8.82h1.221v2.84c.273-.333.644-.608 1.076-.608.886 0 1.18.749 1.18 1.631v3.609zm4.471-1.752h-2.314v1.228c0 .488.042.91.528.91.511 0 .541-.344.541-.91v-.452h1.245v.489c0 1.253-.538 2.013-1.813 2.013-1.155 0-1.746-.842-1.746-2.013v-2.921c0-1.129.746-1.914 1.837-1.914 1.161 0 1.721.738 1.721 1.914v1.656z" />
        </svg>
      </li>
    </ul>
  </footer>
</body>

</html>

<script src="js/ProfilePicker.js"></script>
<script src="js/head_cutter.js"></script>
<script>
  /**
   * The code can be included in some JS file and included
   * via require or <script> in the renderer process
   */

  const { ipcRenderer } = require('electron');
  window.send = (channel, msg) => {
    ipcRenderer.send(channel, msg)
  }
  window.on = (channel, callback) => {
    ipcRenderer.on(channel, (ev, data) => { callback(data) });
  }
  window.on("progress.title", (title) => {
    document.getElementById("progressTitle").innerText = title;
  })
  window.on("progress.progress", (progress) => {
    document.getElementById("progressText").innerText = parseInt(progress) + "%";
    document.getElementById("progress").value = parseInt(progress);
  })
  window.on("progress.total", (progress) => {
    document.getElementById("progressTotal").value = progress[0];
    document.getElementById("progressTotal").max = parseInt(progress[1]);
    document.getElementById("progressTotalText").innerText=`Total (${progress[0]}/${progress[1]})`
  })
  document.getElementById("close-btn").addEventListener("click", function (e) {
    window.close();
  });

  // Some data that will be sent to the main process


  // Send information to the main process
  // if a listener has been set, then the main process
  // will react to the request !
  function run() {
    let Data = {
      log: document.getElementById("mail").value,
      pass: document.getElementById("pass").value
    };
    ipcRenderer.send('action', Data);
  }
</script>



<script>
  var profilePicker;
  window.send("requestProfiles", "")
  window.on("getProfiles", (prof) => {
    profilePicker = new ProfilePicker(document.getElementById("ProfilePicker"), prof);
  });
  window.on("updateProfiles", (prof) => {
    profilePicker.loadProfiles(prof);
  });
</script>